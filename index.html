<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>è¡€æ¶²å‹ã‚¯ã‚¤ã‚º</title>
<style>
  body {
    font-family: sans-serif;
    background: #f5f5f5;
    text-align: center;
    padding: 20px;
  }
  .card {
    background: #fff;
    padding: 25px;
    border-radius: 20px;
    max-width: 500px;
    margin: auto;
    box-shadow: 0 10px 20px rgba(0,0,0,.1);
  }
  .parent {
    font-size: 16px;
    color: #555;
    margin-bottom: 10px;
  }
  button.choice {
    width: 90px;
    height: 60px;
    margin: 6px;
    font-size: 18px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    background: #ddd;
  }
  button.choice.selected {
    background: #90caf9;
  }
  #result {
    font-size: 22px;
    margin-top: 15px;
  }
</style>
</head>
<body>

<div class="card">
  <div class="parent">çˆ¶ï¼šAï¼‹ã€€æ¯ï¼šBâˆ’</div>
  <h3>å­ã«å½“ã¦ã¯ã¾ã‚‹è¡€æ¶²å‹ã‚’<br>ã™ã¹ã¦é¸ã¹</h3>

  <div id="choices"></div>

  <br>
  <button onclick="check()">åˆ¤å®š</button>
  <button onclick="next()">æ¬¡ã«é€²ã‚€</button>
  <br><br>
  <button onclick="toggleSound()">ğŸ”Š éŸ³ ON / OFF</button>

  <div id="result"></div>
</div>

<audio id="okSound" src="okok.mp3"></audio>
<audio id="noSound" src="nonono.mp3"></audio>
<audio id="bgm" src="thinkingg.mp3" loop></audio>

<script>
const allTypes = [
  "A+","A-","B+","B-",
  "AB+","AB-","O+","O-"
];

// ä»Šå›ã®æ­£è§£ï¼ˆçˆ¶A+ Ã— æ¯Bâˆ’ï¼‰
const correctSet = new Set(allTypes);

let selected = new Set();
let soundOn = true;

// BGM
document.body.addEventListener("click", () => {
  if (soundOn) document.getElementById("bgm").play();
}, { once: true });

// é¸æŠè‚¢ç”Ÿæˆ
const area = document.getElementById("choices");
allTypes.forEach(t => {
  const btn = document.createElement("button");
  btn.textContent = t;
  btn.className = "choice";
  btn.onclick = () => toggle(btn, t);
  area.appendChild(btn);
});

function toggle(btn, type) {
  if (selected.has(type)) {
    selected.delete(type);
    btn.classList.remove("selected");
  } else {
    selected.add(type);
    btn.classList.add("selected");
  }
}

function check() {
  const result = document.getElementById("result");

  if (
    selected.size === correctSet.size &&
    [...selected].every(v => correctSet.has(v))
  ) {
    result.textContent = "â­• æ­£è§£ï¼";
    if (soundOn) document.getElementById("okSound").play();
  } else {
    result.textContent = "âŒ ä¸æ­£è§£";
    if (soundOn) document.getElementById("noSound").play();
  }
}

function next() {
  alert("æ¬¡ã®å•é¡Œã¯ã“ã“ã§è¦ªã®è¡€æ¶²å‹ã‚’å¤‰ãˆã¦ä½œã‚Œã‚‹");
}

function toggleSound() {
  soundOn = !soundOn;
  const bgm = document.getElementById("bgm");
  soundOn ? bgm.play() : bgm.pause();
}
</script>

</body>
</html>

